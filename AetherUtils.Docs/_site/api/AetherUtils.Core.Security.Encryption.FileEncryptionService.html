<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class FileEncryptionService | AetherUtils </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class FileEncryptionService | AetherUtils ">
      
      <meta name="description" content="Provides methods to encrypt and decrypt files on the file system. This service contains potentially destructive methods that can render a file unreadable for a few reasons: If a file is encrypted with  and then opened in a text editor             (to view/edit the contents),             and then the file is saved, it could render the file unable to be decrypted.If after performing item 1, you attempt to encrypt the file again, it could be lost forever.If the file extension of an encrypted file is changed manually, the file will be unable to be decrypted. Use at your own risk!">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ethan-hann/AetherUtils/new/master/apiSpec/new?filename=AetherUtils_Core_Security_Encryption_FileEncryptionService.md&amp;value=---%0Auid%3A%20AetherUtils.Core.Security.Encryption.FileEncryptionService%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AetherUtils">
            AetherUtils
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService">



  <h1 id="AetherUtils_Core_Security_Encryption_FileEncryptionService" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService" class="text-break">
Class FileEncryptionService  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L19"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AetherUtils.html">AetherUtils</a>.<a class="xref" href="AetherUtils.Core.html">Core</a>.<a class="xref" href="AetherUtils.Core.Security.html">Security</a>.<a class="xref" href="AetherUtils.Core.Security.Encryption.html">Encryption</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AetherUtils.Core.dll</dd></dl>
  </div>

  <div class="markdown summary">Provides methods to encrypt and decrypt files on the file system.
<remarks>This service contains potentially destructive methods that can render a file unreadable for a few reasons:
<ol><li>If a file is encrypted with <a class="xref" href="AetherUtils.Core.Security.Encryption.FileEncryptionService.html#AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptFileAsync_System_String_System_String_System_String_">EncryptFileAsync(string, string, string)</a> and then opened in a text editor
            (to view/edit the contents),
            and then the file is saved, it could render the file unable to be decrypted.</li><li>If after performing item 1, you attempt to encrypt the file again, it could be lost forever.</li><li>If the file extension of an encrypted file is changed manually, the file will be unable to be decrypted.</li></ol>
<b>Use at your own risk!</b>
</remarks></div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class FileEncryptionService : EncryptionBase</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="AetherUtils.Core.Security.Encryption.EncryptionBase.html">EncryptionBase</a></div>
      <div><span class="xref">FileEncryptionService</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="AetherUtils.Core.Security.Encryption.EncryptionBase.html#AetherUtils_Core_Security_Encryption_EncryptionBase_GetRandomKeyPhrase_System_Int32_">EncryptionBase.GetRandomKeyPhrase(int)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="AetherUtils.Core.Extensions.TypeExtensions.html#AetherUtils_Core_Extensions_TypeExtensions_CanSerializeJson__1___0_">TypeExtensions.CanSerializeJson&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="AetherUtils.Core.Extensions.TypeExtensions.html#AetherUtils_Core_Extensions_TypeExtensions_CanSerializeXml__1___0_">TypeExtensions.CanSerializeXml&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="AetherUtils.Core.Extensions.TypeExtensions.html#AetherUtils_Core_Extensions_TypeExtensions_SerializeJson__1___0_">TypeExtensions.SerializeJson&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="AetherUtils.Core.Extensions.TypeExtensions.html#AetherUtils_Core_Extensions_TypeExtensions_SerializeXml__1___0_">TypeExtensions.SerializeXml&lt;T&gt;(T)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService__ctor_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.#ctor*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService__ctor_System_String_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.#ctor(System.String)">
  FileEncryptionService(string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L28"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public FileEncryptionService(string filePath)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>filePath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>












  <h2 class="section" id="properties">Properties
</h2>


  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService_FilePath_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.FilePath*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService_FilePath" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.FilePath">
  FilePath
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L26"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Get or set the file path that is used for encryption.</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string FilePath { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService_DecryptAsync_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.DecryptAsync*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService_DecryptAsync_System_String_System_String_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.DecryptAsync(System.String,System.String)">
  DecryptAsync(string, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L149"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Decrypt a file specified by <code class="paramref">filePath</code> using the <code class="paramref">passphrase</code>.</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;string&gt; DecryptAsync(string filePath, string passphrase)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>filePath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The path to the file to decrypt.</dd>
    <dt><code>passphrase</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The passphrase used for decryption.</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</dt>
    <dd>The decrypted contents of the file.</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.filenotfoundexception">FileNotFoundException</a></dt>
    <dd>If <code class="paramref">filePath</code> was not a valid path to a file.</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd>If <code class="paramref">filePath</code> was <code>null</code> or empty.</dd>
  </dl>



  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService_DecryptFileAsync_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.DecryptFileAsync*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService_DecryptFileAsync_System_String_System_String_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.DecryptFileAsync(System.String,System.String)">
  DecryptFileAsync(string, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L117"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Decrypt an encrypted file from disk using the specified <code class="paramref">passphrase</code> to derive the key.</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static Task&lt;string&gt; DecryptFileAsync(string filePath, string passphrase)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>filePath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The path to the file on disk to decrypt.</dd>
    <dt><code>passphrase</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The passphrase used for decryption.</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</dt>
    <dd>The path to the decrypted file.</dd>
  </dl>







  <h4 class="section" id="AetherUtils_Core_Security_Encryption_FileEncryptionService_DecryptFileAsync_System_String_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks">If the encrypted file's extension is different than the original file's,
    the encrypted file is deleted after decryption occurs and the file extension is
    changed back to the original extension.</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.filenotfoundexception">FileNotFoundException</a></dt>
    <dd>If the file could not be found at the <code class="paramref">filePath</code>.</dd>
  </dl>



  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptAsync_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.EncryptAsync*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptAsync_System_String_System_String_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.EncryptAsync(System.String,System.String)">
  EncryptAsync(string, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L46"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Create and encrypt a file with the specified <code class="paramref">content</code> using the <code class="paramref">passphrase</code>.
<p>This method will either create a new file if one does not exist or overwrite the existing file.</p></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;string&gt; EncryptAsync(string content, string passphrase)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>content</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The string to encrypt into the file.</dd>
    <dt><code>passphrase</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The passphrase used for encryption.</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</dt>
    <dd>The path to the encrypted file.</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd>If <code class="paramref">content</code> was <code>null</code> or empty.</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></dt>
    <dd>If <code class="paramref">passphrase</code> was <code>null</code>.</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></dt>
    <dd>If the <a class="xref" href="AetherUtils.Core.Security.Encryption.FileEncryptionService.html#AetherUtils_Core_Security_Encryption_FileEncryptionService_FilePath">FilePath</a> property is empty.</dd>
  </dl>



  <a id="AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptFileAsync_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.EncryptFileAsync*"></a>

  <h3 id="AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptFileAsync_System_String_System_String_System_String_" data-uid="AetherUtils.Core.Security.Encryption.FileEncryptionService.EncryptFileAsync(System.String,System.String,System.String)">
  EncryptFileAsync(string, string, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L81"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary">Encrypt an existing file on disk using the specified <code class="paramref">passphrase</code> to derive the key.</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static Task&lt;string&gt; EncryptFileAsync(string filePath, string passphrase, string newExtension = &quot;.enc&quot;)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>filePath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The path to the file on disk to encrypt.</dd>
    <dt><code>passphrase</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The passphrase used for encryption.</dd>
    <dt><code>newExtension</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd>The file extensions to change the encrypted file to.
    If no file extension change is wanted, supply the original file's extension; default is <code>.enc</code>.</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</dt>
    <dd>The path to the encrypted file.</dd>
  </dl>







  <h4 class="section" id="AetherUtils_Core_Security_Encryption_FileEncryptionService_EncryptFileAsync_System_String_System_String_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks">If the original file's extension is different than the encrypted file's,
    the original file is deleted after encryption occurs and the file extension is
    changed to the new extension.</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.filenotfoundexception">FileNotFoundException</a></dt>
    <dd>If the file could not be found at the <code class="paramref">filePath</code>.</dd>
  </dl>




</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ethan-hann/AetherUtils/blob/master/AetherUtils.Core/Security/Encryption/FileEncryptionService.cs/#L19" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
